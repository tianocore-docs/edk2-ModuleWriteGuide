
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>2.2 Manage Package Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../3_module_development/" />
    
    
    <link rel="prev" href="21_introduction.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../#edk-ii-module-writers-guide">
            
                    
                    EDK II Module Writer's Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../TABLES.html">
            
                <a href="../TABLES.html#tables">
            
                    
                    Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../FIGURES.html">
            
                <a href="../FIGURES.html#figures">
            
                    
                    Figures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../1_the_basics_of_edk_ii/">
            
                <a href="../1_the_basics_of_edk_ii/#1-the-basics-of-edk-ii">
            
                    
                    1 The Basics of EDK II
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../1_the_basics_of_edk_ii/11_overview.html">
            
                <a href="../1_the_basics_of_edk_ii/11_overview.html#11-overview">
            
                    
                    1.1 Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../1_the_basics_of_edk_ii/12_related_references.html">
            
                <a href="../1_the_basics_of_edk_ii/12_related_references.html#12-related-references">
            
                    
                    1.2 Related References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../1_the_basics_of_edk_ii/13_terms.html">
            
                <a href="../1_the_basics_of_edk_ii/13_terms.html#13-terms">
            
                    
                    1.3 Terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../1_the_basics_of_edk_ii/14_target_audience.html">
            
                <a href="../1_the_basics_of_edk_ii/14_target_audience.html#14-target-audience">
            
                    
                    1.4 Target Audience
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./#2-an-edk-ii-package">
            
                    
                    2 An EDK II Package
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="21_introduction.html">
            
                <a href="21_introduction.html#21-introduction">
            
                    
                    2.1 Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="22_manage_package.html">
            
                <a href="22_manage_package.html#22-manage-package">
            
                    
                    2.2 Manage Package
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../3_module_development/">
            
                <a href="../3_module_development/#3-module-development">
            
                    
                    3 Module Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../3_module_development/31_what_is_an_edk_ii_module.html">
            
                <a href="../3_module_development/31_what_is_an_edk_ii_module.html#31-what-is-an-edk-ii-module">
            
                    
                    3.1 What is an EDK II module?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../3_module_development/32_creating_a_module.html">
            
                <a href="../3_module_development/32_creating_a_module.html#32-creating-a-module">
            
                    
                    3.2 Creating a Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../3_module_development/33_additional_steps_for_library_instances.html">
            
                <a href="../3_module_development/33_additional_steps_for_library_instances.html#33-additional-steps-for-library-instances">
            
                    
                    3.3 Additional Steps for Library Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../3_module_development/34_additional_steps_for_driver.html">
            
                <a href="../3_module_development/34_additional_steps_for_driver.html#34-additional-steps-for-driver">
            
                    
                    3.4 Additional Steps for Driver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../3_module_development/35_edk_ii_common_library_class.html">
            
                <a href="../3_module_development/35_edk_ii_common_library_class.html#35-edk-ii-common-library-class">
            
                    
                    3.5 EDK II Common Library Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../3_module_development/36_module_using_hii.html">
            
                <a href="../3_module_development/36_module_using_hii.html#36-module-using-hii">
            
                    
                    3.6 Module using HII
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../3_module_development/37_building_the_module.html">
            
                <a href="../3_module_development/37_building_the_module.html#37-building-the-module">
            
                    
                    3.7 Building the module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../3_module_development/38_debugging_a_module.html">
            
                <a href="../3_module_development/38_debugging_a_module.html#38-debugging-a-module">
            
                    
                    3.8 Debugging a Module
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../4_uefi_applications/">
            
                <a href="../4_uefi_applications/#4-uefi-applications">
            
                    
                    4 UEFI Applications
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../4_uefi_applications/41_begin_with_inf_file.html">
            
                <a href="../4_uefi_applications/41_begin_with_inf_file.html#41-begin-with-inf-file">
            
                    
                    4.1 Begin with INF file
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../4_uefi_applications/42_write_uefi_application_entry_point.html">
            
                <a href="../4_uefi_applications/42_write_uefi_application_entry_point.html#42-write-uefi-application-entry-point">
            
                    
                    4.2 Write UEFI Application Entry Point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../4_uefi_applications/43_get_service_tables.html">
            
                <a href="../4_uefi_applications/43_get_service_tables.html#43-get-service-tables">
            
                    
                    4.3 Get Service Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../4_uefi_applications/44_communicating_with_a_uefi_driver.html">
            
                <a href="../4_uefi_applications/44_communicating_with_a_uefi_driver.html#44-communicating-with-a-uefi-driver">
            
                    
                    4.4 Communicating with a UEFI driver
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../5_uefi_drivers/">
            
                <a href="../5_uefi_drivers/#5-uefi-drivers">
            
                    
                    5 UEFI Drivers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../5_uefi_drivers/51_begin_with_inf_file.html">
            
                <a href="../5_uefi_drivers/51_begin_with_inf_file.html#51-begin-with-inf-file">
            
                    
                    5.1 Begin With INF File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../5_uefi_drivers/52_write_the_uefi_driver_entry_point.html">
            
                <a href="../5_uefi_drivers/52_write_the_uefi_driver_entry_point.html#52-write-the-uefi-driver-entry-point">
            
                    
                    5.2 Write the UEFI Driver entry point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../5_uefi_drivers/53_get_service_tables.html">
            
                <a href="../5_uefi_drivers/53_get_service_tables.html#53-get-service-tables">
            
                    
                    5.3 Get Service Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../5_uefi_drivers/54_communication_between_uefi_drivers.html">
            
                <a href="../5_uefi_drivers/54_communication_between_uefi_drivers.html#54-communication-between-uefi-drivers">
            
                    
                    5.4 Communication between UEFI Drivers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../6_sec_module/">
            
                <a href="../6_sec_module/#6-sec-module">
            
                    
                    6 SEC Module
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../6_sec_module/61_beginning_to_write_the_inf_file.html">
            
                <a href="../6_sec_module/61_beginning_to_write_the_inf_file.html#61-beginning-to-write-the-inf-file">
            
                    
                    6.1 Beginning to Write the INF File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../6_sec_module/62_setup_pre-memory_environment.html">
            
                <a href="../6_sec_module/62_setup_pre-memory_environment.html#62-setup-pre-memory-environment">
            
                    
                    6.2 Setup Pre-Memory Environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../6_sec_module/63_prepare_for_data_pei_foundation.html">
            
                <a href="../6_sec_module/63_prepare_for_data_pei_foundation.html#63-prepare-for-data-pei-foundation">
            
                    
                    6.3 Prepare for Data PEI Foundation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../7_pre-efi_initialization_modules/">
            
                <a href="../7_pre-efi_initialization_modules/#7-pre-efi-initialization-modules">
            
                    
                    7 Pre-EFI Initialization Modules
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../7_pre-efi_initialization_modules/71_introduction.html">
            
                <a href="../7_pre-efi_initialization_modules/71_introduction.html#71-introduction">
            
                    
                    7.1 Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../7_pre-efi_initialization_modules/72_beginning_to_write_a_peim_inf_file.html">
            
                <a href="../7_pre-efi_initialization_modules/72_beginning_to_write_a_peim_inf_file.html#72-beginning-to-write-a-peim-inf-file">
            
                    
                    7.2 Beginning to Write a PEIM INF File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../7_pre-efi_initialization_modules/73_defining_a_peims_entry_point.html">
            
                <a href="../7_pre-efi_initialization_modules/73_defining_a_peims_entry_point.html#73-defining-a-peims-entry-point">
            
                    
                    7.3 Defining a PEIM's entry point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../7_pre-efi_initialization_modules/74_get_pei_services.html">
            
                <a href="../7_pre-efi_initialization_modules/74_get_pei_services.html#74-get-pei-services">
            
                    
                    7.4 Get Pei Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../7_pre-efi_initialization_modules/75_communicate_between_peim_modules.html">
            
                <a href="../7_pre-efi_initialization_modules/75_communicate_between_peim_modules.html#75-communicate-between-peim-modules">
            
                    
                    7.5 Communicate between PEIM Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../7_pre-efi_initialization_modules/76_communicate_with_dxe_modules.html">
            
                <a href="../7_pre-efi_initialization_modules/76_communicate_with_dxe_modules.html#76-communicate-with-dxe-modules">
            
                    
                    7.6 Communicate with DXE Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../7_pre-efi_initialization_modules/77_boot_mode.html">
            
                <a href="../7_pre-efi_initialization_modules/77_boot_mode.html#77-boot-mode">
            
                    
                    7.7 Boot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../7_pre-efi_initialization_modules/78_execution_in_place_peims.html">
            
                <a href="../7_pre-efi_initialization_modules/78_execution_in_place_peims.html#78-execution-in-place-peims">
            
                    
                    7.8 Execution in Place PEIMs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../7_pre-efi_initialization_modules/79_dependency_for_peims.html">
            
                <a href="../7_pre-efi_initialization_modules/79_dependency_for_peims.html#79-dependency-for-peims">
            
                    
                    7.9 Dependency for PEIMs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../8_dxe_drivers_non-uefi_drivers/">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/#8-dxe-drivers-non-uefi-drivers">
            
                    
                    8 DXE Drivers: non-UEFI drivers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../8_dxe_drivers_non-uefi_drivers/81_beginning_with_inf_file.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/81_beginning_with_inf_file.html#81-beginning-with-inf-file">
            
                    
                    8.1 Beginning with INF File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../8_dxe_drivers_non-uefi_drivers/82_write_dxe_driver_entry_point.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/82_write_dxe_driver_entry_point.html#82-write-dxe-driver-entry-point">
            
                    
                    8.2 Write DXE Driver Entry Point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../8_dxe_drivers_non-uefi_drivers/83_obtaining_services_tables.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/83_obtaining_services_tables.html#83-obtaining-services-tables">
            
                    
                    8.3 Obtaining Services Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../8_dxe_drivers_non-uefi_drivers/84_communication_between_dxe_drivers.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/84_communication_between_dxe_drivers.html#84-communication-between-dxe-drivers">
            
                    
                    8.4 Communication between DXE Drivers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../8_dxe_drivers_non-uefi_drivers/85_communication_with_peims.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/85_communication_with_peims.html#85-communication-with-peims">
            
                    
                    8.5 Communication with PEIMs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="../8_dxe_drivers_non-uefi_drivers/86_dependency_expressions.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/86_dependency_expressions.html#86-dependency-expressions">
            
                    
                    8.6 Dependency Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../8_dxe_drivers_non-uefi_drivers/87_handler_for_evtsignal_exit_boot_services.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/87_handler_for_evtsignal_exit_boot_services.html#87-handler-for-evt_signal_exit_boot_services">
            
                    
                    8.7 Handler for EVT_SIGNAL_EXIT_BOOT_SERVICES
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="../8_dxe_drivers_non-uefi_drivers/88_dxe_runtime_driver.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/88_dxe_runtime_driver.html#88-dxe-runtime-driver">
            
                    
                    8.8 DXE Runtime Driver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="../8_dxe_drivers_non-uefi_drivers/89_dxe_sal_driver.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/89_dxe_sal_driver.html#89-dxe-sal-driver">
            
                    
                    8.9 DXE SAL Driver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.10" data-path="../8_dxe_drivers_non-uefi_drivers/810_dxe_smm_driver.html">
            
                <a href="../8_dxe_drivers_non-uefi_drivers/810_dxe_smm_driver.html#810-dxe-smm-driver">
            
                    
                    8.10 DXE SMM Driver
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../appendix_a_dynamic_pcd.html">
            
                <a href="../appendix_a_dynamic_pcd.html#appendix-a-dynamic-pcd">
            
                    
                    Appendix A Dynamic PCD
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >2.2 Manage Package</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <!--- @file
  2.2 Manage Package

  Copyright (c) 2010-2018, Intel Corporation. All rights reserved.<BR>

  Redistribution and use in source (original document form) and 'compiled'
  forms (converted to PDF, epub, HTML and other formats) with or without
  modification, are permitted provided that the following conditions are met:

  1) Redistributions of source code (original document form) must retain the
     above copyright notice, this list of conditions and the following
     disclaimer as the first lines of this file unmodified.

  2) Redistributions in compiled form (transformed to other DTDs, converted to
     PDF, epub, HTML and other formats) must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in the
     documentation and/or other materials provided with the distribution.

  THIS DOCUMENTATION IS PROVIDED BY TIANOCORE PROJECT "AS IS" AND ANY EXPRESS OR
  IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
  EVENT SHALL TIANOCORE PROJECT  BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS DOCUMENTATION, EVEN IF
  ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<h2 id="22-manage-package">2.2 Manage Package</h2>
<h3 id="221-create-package">2.2.1 Create Package</h3>
<p>When current packages do not satisfy a requirement, or the original code base
is split into EDK II packages, new packages need to be created. Following are
the recommended rules for defining the new package:</p>
<ul>
<li><p>All modules related to the same functionality should go in the same package.
For example, different packages should be created for different chipsets.</p>
</li>
<li><p>Generic modules shared between different platforms should be in another
package. For example, the MdePkg and MdeModulePkg are shared.</p>
</li>
<li><p>Modules should go in packages according to their release requirements. If
modules are released only to specific customers, they should go in specific
packages.</p>
</li>
</ul>
<hr>
<p><strong>Note:</strong> There is no limitation for source files in a new package. Even if
only one file is in a package, this package will be valid.</p>
<hr>
<p>According to the rules given immediately above, the EDK II project provides
several packages for user reference.</p>
<p>When a new package is added, the following steps are used to create it.</p>
<ul>
<li><p>Give the meaningful package name as the package directory name and create a
package directory, such PackageNamePkg.</p>
</li>
<li><p>Create package DEC and DSC files in the package root directory to describe
this package.</p>
</li>
<li><p>Create package sub-directories to contain the different source files.</p>
</li>
</ul>
<h3 id="222-using-a-package">2.2.2 Using a Package</h3>
<p>A package provides public header files, library classes, PCDs and modules,
which are required to develop other modules and platforms.</p>
<p>A module is dependent on the package that it resides in and may be dependent on
other packages.</p>
<p>A platform is made from the modules contained in its own package, and from
other packages.</p>
<p>The EDK II package is the basic development unit. It can be used to configure
the development workspace. According to development requirements, the workspace
can integrate different packages from the EDK II project and other sources. To
develop a module or a platform, their dependent packages need to be integrated
into the workspace. For example, to develop UEFI and PI driver, the MdePkg,
which contains all UEFI/PI definitions, is required in the workspace.</p>
<p>The following show how to develop modules and platforms based on packages.</p>
<ul>
<li><p>Each package DEC file and Include directory lists package public header
files, library classes and PCDs. When a new module is developed, it can
include information from the DECs of all packages in current workspaces If it
needs information from a package that is not in the current workspace, this
package needs to be added.</p>
</li>
<li><p>Each package DSC file lists all modules provided by this package. The
developer can search the DSCs of all packages in the current workspace to
obtain the required modules (and move their information into the platform DSC
file). Then it specifies those modules in the platform DSC and FDF file. If a
new platform still requires the modules from a packages that are not in the
current workspace, this package needs to be added.</p>
</li>
</ul>
<h3 id="223-updating-a-package">2.2.3 Updating a Package</h3>
<p>The package DEC and DSC files describe the package capability, which should be
created according to source files of this package. If source files are changed,
removed, or added, the package DEC and DSC file must be updated to match their
change.</p>
<p>All changes to source code that affect the DEC and DSC file are introduced one
by one.</p>
<h4 id="2231-updating-package-include-directories">2.2.3.1 Updating Package Include Directories</h4>
<p>When a package Include directory is changed, added, or removed, the [Includes]
a section of the DEC must be updated.</p>
<h5 id="22311-example-include-section-of-packagedec">2.2.3.1.1 Example: Include section of Package.dec</h5>
<pre><code class="lang-ini">[Includes]
  Include # Package Include path
  LocalInclude # Add new include path
</code></pre>
<h4 id="2232-updating-guidsppisprotocols">2.2.3.2 Updating Guids/Ppis/Protocols</h4>
<p>When a Guid value or Guid global CName defined in the package public Guid
header file changes, the [Guids] section of the DEC must be updated to the new
Guid value or Guid CName. If a public Guid header file is removed, the Guid
defined in this file must be removed from the [Guids] section of the DEC. If a
new guid header file is added in the package public include directory, the new
declared Guid and its value must be added to the [Guids] section of the DEC.
Like the Guid header file, any change to Guid values defined in the Ppi and
Protocol header files also requires the [Ppis] or the [Protocols] section to be
updated.</p>
<h5 id="22321-example-guid-section-of-packagedec">2.2.3.2.1 Example: Guid section of Package.dec</h5>
<pre><code class="lang-ini">[Guids]
  #gGuidCName = {00000000,0000,0000,{00,00,00,00,00,00,00,00}}
  #updated to
  gNewGuidCName = {00000000,0000,0000,{00,00,00,00,00,00,00,01}}
</code></pre>
<h4 id="2233-updating-library-classes">2.2.3.3 Updating Library Classes</h4>
<p>When the library class name is changed, the library class header file name
needs to update the [LibraryClasses] section of the DEC to map the new library
class name to the (new?) header file. The change to the library class name will
also require the [LibraryClasses] section (of the DSC to be updated) to map the
new library class name and the library instance. When a new library class is
introduced, its name and its header file will be specified in the DEC
[LibraryClasses] section.</p>
<h5 id="22331-example-libraryclasses-section-of-packagedsc">2.2.3.3.1 Example: LibraryClasses section of Package.dsc</h5>
<pre><code class="lang-ini">[LibraryClasses]
  #OneClassLib|Include/Library/OneClassLib.inf updated to
  BaseMemoryLib|MdePkg/Library/BaseMemoryLib/BaseMemoryLib.inf
</code></pre>
<h4 id="2234-updating-pcds">2.2.3.4 Updating PCDs</h4>
<p>PCDs are declared in the package DEC and are not related to any header file.
However, module source files use them. If a PCD does not exist in any module,
its declaration should be removed from the DEC file. The setting for this PCD
in DSC file should also be removed.</p>
<p>When a module requires a new PCD, it needs to define this PCD in the DEC file
for the package where the module is located. Then the DEC file will specify the
PCD type and default value.</p>
<h5 id="22341-example-packagedec">2.2.3.4.1 Example: Package.dec</h5>
<pre><code class="lang-ini">[PcdsFixedAtBuild]
  #Add new FixedAtBuild PCD
  #PcdTokenSpaceCGuidName.PcdName|DefaultValue|DataType|TokenNumber
  gEfiMdeModulePkgTokenSpaceGuid.PcdHelloWorldTimes|1|UINT32|0x40000005
</code></pre>
<h4 id="2235-updating-modules">2.2.3.5 Updating Modules</h4>
<p>Changes to modules (Library instance, drivers and applications) cause the
dependent header file, library class and PCDs be modified, which requires the
DSC file to be updated.</p>
<p>If a module INF file name is changed, the DSC files that refer to this module
are updated to new file name. If a module is completely removed, it will not be
compiled any more, and is removed from the package DSC. When a new module is
added to a package, it should be added to the package DSC to be compiled and
verified.</p>
<h5 id="22351-example-packagedsc">2.2.3.5.1 Example: Package.dsc</h5>
<pre><code class="lang-ini">[Components] #Module INF file path are specified from package directory.
  # PackageNamePkg/NameTwoPei/NameTwoDxe.inf
  # updated to
  MdeModulePkg/Application/HelloWorld/HelloWorld.inf
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="21_introduction.html#21-introduction" class="navigation navigation-prev " aria-label="Previous page: 2.1 Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../3_module_development/#3-module-development" class="navigation navigation-next " aria-label="Next page: 3 Module Development">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.2 Manage Package","level":"1.5.2","depth":2,"next":{"title":"3 Module Development","level":"1.6","depth":1,"anchor":"#3-module-development","path":"3_module_development/README.md","ref":"3_module_development/README.md#3-module-development","articles":[{"title":"3.1 What is an EDK II module?","level":"1.6.1","depth":2,"anchor":"#31-what-is-an-edk-ii-module","path":"3_module_development/31_what_is_an_edk_ii_module.md","ref":"3_module_development/31_what_is_an_edk_ii_module.md#31-what-is-an-edk-ii-module","articles":[]},{"title":"3.2 Creating a Module","level":"1.6.2","depth":2,"anchor":"#32-creating-a-module","path":"3_module_development/32_creating_a_module.md","ref":"3_module_development/32_creating_a_module.md#32-creating-a-module","articles":[]},{"title":"3.3 Additional Steps for Library Instances","level":"1.6.3","depth":2,"anchor":"#33-additional-steps-for-library-instances","path":"3_module_development/33_additional_steps_for_library_instances.md","ref":"3_module_development/33_additional_steps_for_library_instances.md#33-additional-steps-for-library-instances","articles":[]},{"title":"3.4 Additional Steps for Driver","level":"1.6.4","depth":2,"anchor":"#34-additional-steps-for-driver","path":"3_module_development/34_additional_steps_for_driver.md","ref":"3_module_development/34_additional_steps_for_driver.md#34-additional-steps-for-driver","articles":[]},{"title":"3.5 EDK II Common Library Class","level":"1.6.5","depth":2,"anchor":"#35-edk-ii-common-library-class","path":"3_module_development/35_edk_ii_common_library_class.md","ref":"3_module_development/35_edk_ii_common_library_class.md#35-edk-ii-common-library-class","articles":[]},{"title":"3.6 Module using HII","level":"1.6.6","depth":2,"anchor":"#36-module-using-hii","path":"3_module_development/36_module_using_hii.md","ref":"3_module_development/36_module_using_hii.md#36-module-using-hii","articles":[]},{"title":"3.7 Building the module","level":"1.6.7","depth":2,"anchor":"#37-building-the-module","path":"3_module_development/37_building_the_module.md","ref":"3_module_development/37_building_the_module.md#37-building-the-module","articles":[]},{"title":"3.8 Debugging a Module","level":"1.6.8","depth":2,"anchor":"#38-debugging-a-module","path":"3_module_development/38_debugging_a_module.md","ref":"3_module_development/38_debugging_a_module.md#38-debugging-a-module","articles":[]}]},"previous":{"title":"2.1 Introduction","level":"1.5.1","depth":2,"anchor":"#21-introduction","path":"2_an_edk_ii_package/21_introduction.md","ref":"2_an_edk_ii_package/21_introduction.md#21-introduction","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"draft":"yes","title":"EDK II Module Writer's Guide","version":"Revision 0.71"},"plugins":["puml-aleung"],"pluginsConfig":{"puml-aleung":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"2_an_edk_ii_package/22_manage_package.md","mtime":"2020-12-01T06:45:16.863Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-01T06:45:47.023Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

